2025-07-26 22:31:17.615 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-26 22:31:18.097 +07:00 [INF] Executed DbCommand (290ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-26 22:31:18.490 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [VaiTro] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 22:31:18.516 +07:00 [INF] Starting web application
2025-07-26 22:31:18.543 +07:00 [INF] User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-26 22:31:18.687 +07:00 [INF] Now listening on: http://localhost:5003
2025-07-26 22:31:18.693 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-26 22:31:18.696 +07:00 [INF] Hosting environment: Development
2025-07-26 22:31:18.699 +07:00 [INF] Content root path: D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web
2025-07-26 22:31:20.343 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GoiTap/Create - null null
2025-07-26 22:31:20.364 +07:00 [WRN] Failed to determine the https port for redirect.
2025-07-26 22:31:20.456 +07:00 [INF] Accessing expired session, Key:96d4d356-aa06-d99e-1df6-8a370b6c4bb2
2025-07-26 22:31:20.919 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 22:31:21.151 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 22:31:21.190 +07:00 [INF] User session set for user: admin
2025-07-26 22:31:21.203 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 22:31:21.230 +07:00 [INF] Route matched with {action = "Create", controller = "GoiTap"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 22:31:21.242 +07:00 [INF] GoiTap Create GET called
2025-07-26 22:31:21.274 +07:00 [INF] Executing ViewResult, running view Create.
2025-07-26 22:31:21.450 +07:00 [INF] Executed ViewResult - view Create executed in 179.8373ms.
2025-07-26 22:31:21.455 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web) in 216.1113ms
2025-07-26 22:31:21.459 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 22:31:21.468 +07:00 [INF] Session started; Key:96d4d356-aa06-d99e-1df6-8a370b6c4bb2, Id:69835654-ac63-4f1c-a3fd-e56322ea98d7
2025-07-26 22:31:21.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GoiTap/Create - 200 null text/html; charset=utf-8 1141.5921ms
2025-07-26 22:31:21.572 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 22:31:21.588 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 16.0962ms
2025-07-26 22:31:21.688 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 22:31:23.513 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/js/site.js?v=3JwyySyy5uCmxAHKqNcZvt5iWyI-Rvgn2e-4n4EUbHo - null null
2025-07-26 22:31:23.541 +07:00 [INF] The file /js/site.js was not modified
2025-07-26 22:31:23.551 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/js/site.js?v=3JwyySyy5uCmxAHKqNcZvt5iWyI-Rvgn2e-4n4EUbHo - 304 null text/javascript 37.9541ms
2025-07-26 22:31:47.560 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/GoiTap/Create - application/x-www-form-urlencoded 367
2025-07-26 22:31:47.586 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 22:31:47.622 +07:00 [INF] Route matched with {action = "Create", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManagement.Web.Models.DTOs.CreateGoiTapDto) on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 22:31:47.671 +07:00 [INF] GoiTap Create POST called with data: {"TenGoi":"Gói tập 5","ThoiHanThang":3,"SoBuoiToiDa":20,"Gia":499000,"MoTa":null,"$type":"CreateGoiTapDto"}
2025-07-26 22:31:47.684 +07:00 [INF] ModelState is valid, creating package
2025-07-26 22:31:47.882 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 500), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [GoiTaps] ([Gia], [MoTa], [SoBuoiToiDa], [TenGoi], [ThoiHanThang])
OUTPUT INSERTED.[GoiTapId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-07-26 22:31:47.912 +07:00 [INF] Executing RedirectResult, redirecting to /GoiTap.
2025-07-26 22:31:47.917 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web) in 287.1127ms
2025-07-26 22:31:47.920 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 22:31:47.923 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/GoiTap/Create - 302 0 null 362.684ms
2025-07-26 22:31:47.933 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GoiTap - null null
2025-07-26 22:31:47.944 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 22:31:47.949 +07:00 [INF] Route matched with {action = "Index", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 22:31:47.969 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-26 22:31:47.978 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 22:31:48.000 +07:00 [INF] Executed ViewResult - view Index executed in 22.5748ms.
2025-07-26 22:31:48.003 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web) in 49.0032ms
2025-07-26 22:31:48.006 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 22:31:48.008 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GoiTap - 200 null text/html; charset=utf-8 75.6485ms
2025-07-26 22:31:48.100 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 22:31:48.107 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.2915ms
2025-07-26 22:31:48.145 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 22:31:52.784 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/GoiTap/DeleteConfirmed?id=7 - multipart/form-data; boundary=----WebKitFormBoundary7vjNOBn0lFXgr1lG 445
2025-07-26 22:31:52.795 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.DeleteConfirmed (GymManagement.Web)'
2025-07-26 22:31:52.806 +07:00 [INF] Route matched with {action = "DeleteConfirmed", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteConfirmed(Int32) on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 22:31:52.859 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DangKys] AS [d]
        WHERE [d].[GoiTapId] = @__id_0 AND [d].[TrangThai] = N'ACTIVE') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 22:31:52.889 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
WHERE [g].[GoiTapId] = @__p_0
2025-07-26 22:31:52.915 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [GoiTaps]
OUTPUT 1
WHERE [GoiTapId] = @p0;
2025-07-26 22:31:52.927 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 22:31:52.939 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.DeleteConfirmed (GymManagement.Web) in 127.575ms
2025-07-26 22:31:52.942 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.DeleteConfirmed (GymManagement.Web)'
2025-07-26 22:31:52.944 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/GoiTap/DeleteConfirmed?id=7 - 200 null application/json; charset=utf-8 160.2704ms
2025-07-26 22:31:52.981 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GoiTap - null null
2025-07-26 22:31:52.990 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 22:31:52.993 +07:00 [INF] Route matched with {action = "Index", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 22:31:53.007 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-26 22:31:53.012 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 22:31:53.022 +07:00 [INF] Executed ViewResult - view Index executed in 10.0408ms.
2025-07-26 22:31:53.026 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web) in 28.0648ms
2025-07-26 22:31:53.029 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 22:31:53.032 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GoiTap - 200 null text/html; charset=utf-8 50.2063ms
2025-07-26 22:31:53.102 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 22:31:53.110 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.0433ms
2025-07-26 22:31:53.118 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 22:31:58.499 +07:00 [INF] Application is shutting down...
