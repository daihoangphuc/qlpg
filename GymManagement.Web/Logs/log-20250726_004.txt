2025-07-26 10:52:51.532 +07:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-26 10:52:52.943 +07:00 [INF] Executed DbCommand (424ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-26 10:52:53.525 +07:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [VaiTro] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 10:52:53.562 +07:00 [INF] Starting web application
2025-07-26 10:52:53.596 +07:00 [INF] User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-26 10:52:53.834 +07:00 [INF] Now listening on: http://localhost:5003
2025-07-26 10:52:54.005 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-26 10:52:55.717 +07:00 [INF] Hosting environment: Development
2025-07-26 10:52:57.716 +07:00 [INF] Content root path: D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web
2025-07-26 10:53:00.652 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/ - null null
2025-07-26 10:53:00.717 +07:00 [WRN] Failed to determine the https port for redirect.
2025-07-26 10:53:00.898 +07:00 [INF] Accessing expired session, Key:96d4d356-aa06-d99e-1df6-8a370b6c4bb2
2025-07-26 10:53:04.554 +07:00 [INF] Executed DbCommand (919ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:53:05.908 +07:00 [INF] Executed DbCommand (136ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 10:53:07.872 +07:00 [INF] User session set for user: admin
2025-07-26 10:53:08.092 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:53:08.393 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:53:08.678 +07:00 [INF] Executing RedirectResult, redirecting to /Home/Dashboard.
2025-07-26 10:53:08.722 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 311.3641ms
2025-07-26 10:53:08.733 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:53:08.750 +07:00 [INF] Session started; Key:96d4d356-aa06-d99e-1df6-8a370b6c4bb2, Id:2e5999c7-8f08-b4f1-33a2-c41846535689
2025-07-26 10:53:08.766 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/ - 302 0 null 8118.6576ms
2025-07-26 10:53:08.841 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/Dashboard - null null
2025-07-26 10:53:08.870 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:53:08.885 +07:00 [INF] Route matched with {action = "Dashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:53:09.016 +07:00 [INF] User action: admin (f2a371dc-c45f-4619-84fe-691582c7fe10) performed AccessDashboard
2025-07-26 10:53:09.282 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:53:09.782 +07:00 [INF] Executed DbCommand (184ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:10.578 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:53:11.038 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-26 10:53:11.105 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-26 10:53:12.268 +07:00 [INF] Executed DbCommand (1,097ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NgayTao] >= @__startDate_0 AND [d].[NgayTao] <= @__endDate_1
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:53:12.628 +07:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:53:12.687 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.702 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.724 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.740 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.756 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.822 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:12.928 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ThanhToanId], [t].[DangKyId], [t].[GhiChu], [t].[NgayThanhToan], [t].[PhuongThuc], [t].[SoTien], [t].[TrangThai], [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [ThanhToans] AS [t]
INNER JOIN [DangKys] AS [d] ON [t].[DangKyId] = [d].[DangKyId]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
ORDER BY [t].[NgayThanhToan] DESC
2025-07-26 10:53:13.231 +07:00 [INF] Executing ViewResult, running view Dashboard.
2025-07-26 10:53:13.382 +07:00 [INF] Executed ViewResult - view Dashboard executed in 284.9913ms.
2025-07-26 10:53:13.431 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web) in 4540.8174ms
2025-07-26 10:53:13.446 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:53:13.475 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/Dashboard - 200 null text/html; charset=utf-8 4633.5581ms
2025-07-26 10:53:14.579 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:53:14.786 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 207.1071ms
2025-07-26 10:53:15.318 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:53:17.412 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/Dashboard - null null
2025-07-26 10:53:17.425 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-07-26 10:53:17.436 +07:00 [INF] AuthenticationScheme: Cookies was challenged.
2025-07-26 10:53:17.441 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/Dashboard - 302 0 null 29.4044ms
2025-07-26 10:53:17.452 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Auth/Login?ReturnUrl=%2FHome%2FDashboard - null null
2025-07-26 10:53:17.487 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:53:17.507 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:53:17.553 +07:00 [INF] Executing ViewResult, running view Login.
2025-07-26 10:53:17.742 +07:00 [INF] Executed ViewResult - view Login executed in 190.8765ms.
2025-07-26 10:53:17.750 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web) in 236.7397ms
2025-07-26 10:53:17.762 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:53:17.768 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Auth/Login?ReturnUrl=%2FHome%2FDashboard - 200 null text/html; charset=utf-8 315.8603ms
2025-07-26 10:53:17.846 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/lib/bootstrap/dist/css/bootstrap.min.css - null null
2025-07-26 10:53:17.852 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/css/site.css?v=IZ0M0_wM2Uhi7-ENWQ8Kv8mmXHQ3MTv13A9DrzRhDqk - null null
2025-07-26 10:53:17.854 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GymManagement.Web.styles.css?v=vhnB1S-qQ2J2sKlxtuh4YlQfToMU1w7iB0sYA2YAVmw - null null
2025-07-26 10:53:17.862 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/lib/jquery/dist/jquery.min.js - null null
2025-07-26 10:53:17.914 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2025-07-26 10:53:17.938 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/js/site.js?v=RYlxSvfKBW8y-4rNtyQAwj155UCSHvNi2MlTePMfw7Y - null null
2025-07-26 10:53:18.232 +07:00 [INF] Sending file. Request path: '/js/site.js'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\js\site.js'
2025-07-26 10:53:18.234 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
2025-07-26 10:53:18.235 +07:00 [INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
2025-07-26 10:53:18.232 +07:00 [INF] Sending file. Request path: '/GymManagement.Web.styles.css'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\obj\Debug\net8.0\scopedcss\bundle\GymManagement.Web.styles.css'
2025-07-26 10:53:18.266 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/js/site.js?v=RYlxSvfKBW8y-4rNtyQAwj155UCSHvNi2MlTePMfw7Y - 200 13382 text/javascript 328.1162ms
2025-07-26 10:53:18.236 +07:00 [INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\css\site.css'
2025-07-26 10:53:18.289 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78474 text/javascript 374.6388ms
2025-07-26 10:53:18.277 +07:00 [INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\lib\jquery\dist\jquery.min.js'
2025-07-26 10:53:18.287 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/lib/bootstrap/dist/css/bootstrap.min.css - 200 162726 text/css 450.6518ms
2025-07-26 10:53:18.311 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - null null
2025-07-26 10:53:18.336 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/css/site.css?v=IZ0M0_wM2Uhi7-ENWQ8Kv8mmXHQ3MTv13A9DrzRhDqk - 200 9833 text/css 483.9388ms
2025-07-26 10:53:18.357 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 495.1413ms
2025-07-26 10:53:18.432 +07:00 [INF] Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.min.js'
2025-07-26 10:53:18.301 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GymManagement.Web.styles.css?v=vhnB1S-qQ2J2sKlxtuh4YlQfToMU1w7iB0sYA2YAVmw - 200 1135 text/css 446.4272ms
2025-07-26 10:53:18.499 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/lib/jquery-validation/dist/jquery.validate.min.js - null null
2025-07-26 10:53:18.486 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - 200 5831 text/javascript 174.5347ms
2025-07-26 10:53:18.535 +07:00 [INF] Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.min.js'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\lib\jquery-validation\dist\jquery.validate.min.js'
2025-07-26 10:53:18.569 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/lib/jquery-validation/dist/jquery.validate.min.js - 200 24604 text/javascript 69.9732ms
2025-07-26 10:53:19.159 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/favicon.ico - null null
2025-07-26 10:53:19.226 +07:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\favicon.ico'
2025-07-26 10:53:19.251 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/favicon.ico - 200 5430 image/x-icon 92.0653ms
2025-07-26 10:53:19.441 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/js/site.js?v=RYlxSvfKBW8y-4rNtyQAwj155UCSHvNi2MlTePMfw7Y - null null
2025-07-26 10:53:19.459 +07:00 [INF] The file /js/site.js was not modified
2025-07-26 10:53:19.465 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/js/site.js?v=RYlxSvfKBW8y-4rNtyQAwj155UCSHvNi2MlTePMfw7Y - 304 null text/javascript 23.9499ms
2025-07-26 10:53:19.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - null null
2025-07-26 10:53:19.884 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:53:19.892 +07:00 [INF] Route matched with {action = "GetRealtimeStats", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRealtimeStats() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:53:19.917 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:19.930 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:53:19.940 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:53:19.948 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType67`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 10:53:19.969 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web) in 72.0037ms
2025-07-26 10:53:19.974 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:53:19.976 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - 200 null application/json; charset=utf-8 101.051ms
2025-07-26 10:53:23.932 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/Auth/Login - application/x-www-form-urlencoded 279
2025-07-26 10:53:23.937 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:53:23.946 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GymManagement.Web.Models.ViewModels.LoginViewModel, System.String) on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:53:23.987 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[TenDangNhap] = @__username_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:53:24.094 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TaiKhoan] SET [LanDangNhapCuoi] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-26 10:53:24.121 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 10:53:24.128 +07:00 [INF] AuthenticationScheme: Cookies signed in.
2025-07-26 10:53:24.134 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 10:53:24.138 +07:00 [INF] User session set for user: admin
2025-07-26 10:53:24.140 +07:00 [INF] User admin logged in successfully.
2025-07-26 10:53:24.141 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-26 10:53:24.143 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web) in 194.0784ms
2025-07-26 10:53:24.145 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:53:24.146 +07:00 [INF] Session started; Key:1ed5ccb1-9c06-102b-dc60-480fe6ec6fc7, Id:e1eb60de-dfc0-9e9b-cd36-e19b6fed1438
2025-07-26 10:53:24.150 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/Auth/Login - 302 0 null 218.1588ms
2025-07-26 10:53:24.156 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/ - null null
2025-07-26 10:53:24.161 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:53:24.163 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:53:24.167 +07:00 [INF] Executing RedirectResult, redirecting to /Home/Dashboard.
2025-07-26 10:53:24.169 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 3.0909ms
2025-07-26 10:53:24.172 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:53:24.261 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/ - 302 0 null 104.7945ms
2025-07-26 10:53:24.576 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/Dashboard - null null
2025-07-26 10:53:24.630 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:53:24.661 +07:00 [INF] Route matched with {action = "Dashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:53:24.669 +07:00 [INF] User action: admin (f2a371dc-c45f-4619-84fe-691582c7fe10) performed AccessDashboard
2025-07-26 10:53:24.675 +07:00 [INF] Executing ViewResult, running view Dashboard.
2025-07-26 10:53:24.744 +07:00 [INF] Executed ViewResult - view Dashboard executed in 69.7366ms.
2025-07-26 10:53:24.747 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web) in 79.6077ms
2025-07-26 10:53:24.754 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:53:24.762 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/Dashboard - 200 null text/html; charset=utf-8 185.2666ms
2025-07-26 10:53:24.808 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:53:24.818 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 9.3525ms
2025-07-26 10:53:24.827 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:53:25.459 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - null null
2025-07-26 10:53:25.469 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:53:25.471 +07:00 [INF] Route matched with {action = "GetRealtimeStats", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRealtimeStats() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:53:25.478 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:53:25.489 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:53:25.500 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:53:25.508 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType67`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 10:53:25.511 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web) in 36.3446ms
2025-07-26 10:53:25.513 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:53:25.517 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - 200 null application/json; charset=utf-8 57.7859ms
2025-07-26 10:53:26.993 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GoiTap - null null
2025-07-26 10:53:26.998 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 10:53:27.003 +07:00 [INF] Route matched with {action = "Index", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 10:53:27.014 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-26 10:53:27.020 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:53:27.040 +07:00 [INF] Executed ViewResult - view Index executed in 20.13ms.
2025-07-26 10:53:27.042 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web) in 35.7208ms
2025-07-26 10:53:27.045 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 10:53:27.047 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GoiTap - 200 null text/html; charset=utf-8 53.4352ms
2025-07-26 10:53:27.085 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:53:27.093 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.3462ms
2025-07-26 10:53:27.102 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:53:44.164 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GoiTap/Create - null null
2025-07-26 10:53:44.169 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 10:53:44.173 +07:00 [INF] Route matched with {action = "Create", controller = "GoiTap"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 10:53:44.178 +07:00 [INF] Executing ViewResult, running view Create.
2025-07-26 10:53:44.228 +07:00 [INF] Executed ViewResult - view Create executed in 51.1994ms.
2025-07-26 10:53:44.231 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web) in 54.5013ms
2025-07-26 10:53:44.235 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 10:53:44.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GoiTap/Create - 200 null text/html; charset=utf-8 72.949ms
2025-07-26 10:53:44.264 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:53:44.270 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.0518ms
2025-07-26 10:53:44.275 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:54:27.766 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/GoiTap/Create - application/x-www-form-urlencoded 0
2025-07-26 10:54:27.777 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 10:54:27.790 +07:00 [INF] Route matched with {action = "Create", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(GymManagement.Web.Models.DTOs.CreateGoiTapDto) on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 10:54:27.797 +07:00 [INF] Antiforgery token validation failed. The required antiforgery request token was not provided in either form field "__RequestVerificationToken" or header value "RequestVerificationToken".
Microsoft.AspNetCore.Antiforgery.AntiforgeryValidationException: The required antiforgery request token was not provided in either form field "__RequestVerificationToken" or header value "RequestVerificationToken".
   at Microsoft.AspNetCore.Antiforgery.DefaultAntiforgery.ValidateRequestAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter.OnAuthorizationAsync(AuthorizationFilterContext context)
2025-07-26 10:54:27.811 +07:00 [INF] Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.ValidateAntiforgeryTokenAuthorizationFilter'.
2025-07-26 10:54:27.825 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 400
2025-07-26 10:54:27.841 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web) in 45.7748ms
2025-07-26 10:54:27.866 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Create (GymManagement.Web)'
2025-07-26 10:54:27.869 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/GoiTap/Create - 400 0 null 102.2557ms
2025-07-26 10:54:34.135 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/LopHoc - null null
2025-07-26 10:54:34.141 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:54:34.147 +07:00 [INF] Route matched with {action = "Index", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:54:34.213 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [t].[DangKyId], [t].[GoiTapId], [t].[LopHocId], [t].[LyDoHuy], [t].[NgayBatDau], [t].[NgayKetThuc], [t].[NgayTao], [t].[NguoiDungId], [t].[PhiDangKy], [t].[TrangThai]
FROM [LopHocs] AS [l]
LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t] ON [l].[LopHocId] = [t].[LopHocId]
ORDER BY [l].[LopHocId], [n].[NguoiDungId]
2025-07-26 10:54:34.226 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:54:34.262 +07:00 [INF] Executed ViewResult - view Index executed in 38.3945ms.
2025-07-26 10:54:34.265 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web) in 112.8314ms
2025-07-26 10:54:34.269 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:54:34.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/LopHoc - 200 null text/html; charset=utf-8 137.0694ms
2025-07-26 10:54:34.332 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:54:34.348 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 15.7053ms
2025-07-26 10:54:34.359 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:54:39.337 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/LopHoc/Edit/1 - null null
2025-07-26 10:54:39.341 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:54:39.347 +07:00 [INF] Route matched with {action = "Edit", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:54:39.373 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[LopHocId], [t].[GiaTuyChinh], [t].[GioBatDau], [t].[GioKetThuc], [t].[HlvId], [t].[MoTa], [t].[SucChua], [t].[TenLop], [t].[ThoiLuong], [t].[ThuTrongTuan], [t].[TrangThai], [t].[NguoiDungId], [t].[AnhDaiDien], [t].[Email], [t].[GioiTinh], [t].[Ho], [t].[LoaiNguoiDung], [t].[NgaySinh], [t].[NgayTao], [t].[NgayThamGia], [t].[SoDienThoai], [t].[Ten], [t].[TrangThai0], [t0].[DangKyId], [t0].[GoiTapId], [t0].[LopHocId], [t0].[LyDoHuy], [t0].[NgayBatDau], [t0].[NgayKetThuc], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[PhiDangKy], [t0].[TrangThai]
FROM (
    SELECT TOP(1) [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai] AS [TrangThai0]
    FROM [LopHocs] AS [l]
    LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
    WHERE [l].[LopHocId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t0] ON [t].[LopHocId] = [t0].[LopHocId]
ORDER BY [t].[LopHocId], [t].[NguoiDungId]
2025-07-26 10:54:39.391 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [NguoiDungs] AS [n]
WHERE [n].[LoaiNguoiDung] = N'HLV' AND [n].[TrangThai] = N'ACTIVE'
2025-07-26 10:54:39.399 +07:00 [INF] Executing ViewResult, running view Edit.
2025-07-26 10:54:39.474 +07:00 [INF] Executed ViewResult - view Edit executed in 75.0872ms.
2025-07-26 10:54:39.477 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web) in 125.2662ms
2025-07-26 10:54:39.481 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:54:39.483 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/LopHoc/Edit/1 - 200 null text/html; charset=utf-8 145.5489ms
2025-07-26 10:54:39.527 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:54:39.535 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.5055ms
2025-07-26 10:54:39.542 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:54:45.120 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/LopHoc/Edit/1 - application/x-www-form-urlencoded 799
2025-07-26 10:54:45.127 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:54:45.148 +07:00 [INF] Route matched with {action = "Edit", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32, GymManagement.Web.Data.Models.LopHoc) on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:54:45.193 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Time), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 50), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [LopHocs] SET [GiaTuyChinh] = @p0, [GioBatDau] = @p1, [GioKetThuc] = @p2, [HlvId] = @p3, [MoTa] = @p4, [SucChua] = @p5, [TenLop] = @p6, [ThoiLuong] = @p7, [ThuTrongTuan] = @p8, [TrangThai] = @p9
OUTPUT 1
WHERE [LopHocId] = @p10;
2025-07-26 10:54:45.202 +07:00 [INF] Executing RedirectResult, redirecting to /LopHoc.
2025-07-26 10:54:45.204 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web) in 51.1867ms
2025-07-26 10:54:45.205 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:54:45.206 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/LopHoc/Edit/1 - 302 0 null 86.2297ms
2025-07-26 10:54:45.211 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/LopHoc - null null
2025-07-26 10:54:45.216 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:54:45.218 +07:00 [INF] Route matched with {action = "Index", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:54:45.221 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [t].[DangKyId], [t].[GoiTapId], [t].[LopHocId], [t].[LyDoHuy], [t].[NgayBatDau], [t].[NgayKetThuc], [t].[NgayTao], [t].[NguoiDungId], [t].[PhiDangKy], [t].[TrangThai]
FROM [LopHocs] AS [l]
LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t] ON [l].[LopHocId] = [t].[LopHocId]
ORDER BY [l].[LopHocId], [n].[NguoiDungId]
2025-07-26 10:54:45.224 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:54:45.227 +07:00 [INF] Executed ViewResult - view Index executed in 2.3933ms.
2025-07-26 10:54:45.229 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web) in 9.1396ms
2025-07-26 10:54:45.232 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:54:45.234 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/LopHoc - 200 null text/html; charset=utf-8 23.2789ms
2025-07-26 10:54:45.266 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:54:45.272 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 5.672ms
2025-07-26 10:54:45.275 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:54:53.789 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/LopHoc/Edit/1 - null null
2025-07-26 10:54:53.793 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:54:53.795 +07:00 [INF] Route matched with {action = "Edit", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:54:53.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[LopHocId], [t].[GiaTuyChinh], [t].[GioBatDau], [t].[GioKetThuc], [t].[HlvId], [t].[MoTa], [t].[SucChua], [t].[TenLop], [t].[ThoiLuong], [t].[ThuTrongTuan], [t].[TrangThai], [t].[NguoiDungId], [t].[AnhDaiDien], [t].[Email], [t].[GioiTinh], [t].[Ho], [t].[LoaiNguoiDung], [t].[NgaySinh], [t].[NgayTao], [t].[NgayThamGia], [t].[SoDienThoai], [t].[Ten], [t].[TrangThai0], [t0].[DangKyId], [t0].[GoiTapId], [t0].[LopHocId], [t0].[LyDoHuy], [t0].[NgayBatDau], [t0].[NgayKetThuc], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[PhiDangKy], [t0].[TrangThai]
FROM (
    SELECT TOP(1) [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai] AS [TrangThai0]
    FROM [LopHocs] AS [l]
    LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
    WHERE [l].[LopHocId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t0] ON [t].[LopHocId] = [t0].[LopHocId]
ORDER BY [t].[LopHocId], [t].[NguoiDungId]
2025-07-26 10:54:53.813 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [NguoiDungs] AS [n]
WHERE [n].[LoaiNguoiDung] = N'HLV' AND [n].[TrangThai] = N'ACTIVE'
2025-07-26 10:54:53.816 +07:00 [INF] Executing ViewResult, running view Edit.
2025-07-26 10:54:53.820 +07:00 [INF] Executed ViewResult - view Edit executed in 3.7401ms.
2025-07-26 10:54:53.823 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web) in 24.0645ms
2025-07-26 10:54:53.825 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:54:53.828 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/LopHoc/Edit/1 - 200 null text/html; charset=utf-8 39.2424ms
2025-07-26 10:54:53.858 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:54:53.866 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.716ms
2025-07-26 10:54:53.881 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:55:02.646 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/LopHoc/Edit/1 - application/x-www-form-urlencoded 784
2025-07-26 10:55:02.653 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:55:02.656 +07:00 [INF] Route matched with {action = "Edit", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32, GymManagement.Web.Data.Models.LopHoc) on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:55:02.666 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (Precision = 12) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Time), @p2='?' (DbType = Time), @p3='?' (DbType = Int32), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 50), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [LopHocs] SET [GiaTuyChinh] = @p0, [GioBatDau] = @p1, [GioKetThuc] = @p2, [HlvId] = @p3, [MoTa] = @p4, [SucChua] = @p5, [TenLop] = @p6, [ThoiLuong] = @p7, [ThuTrongTuan] = @p8, [TrangThai] = @p9
OUTPUT 1
WHERE [LopHocId] = @p10;
2025-07-26 10:55:02.671 +07:00 [INF] Executing RedirectResult, redirecting to /LopHoc.
2025-07-26 10:55:02.673 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web) in 12.8343ms
2025-07-26 10:55:02.674 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Edit (GymManagement.Web)'
2025-07-26 10:55:02.676 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/LopHoc/Edit/1 - 302 0 null 30.0319ms
2025-07-26 10:55:02.681 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/LopHoc - null null
2025-07-26 10:55:02.686 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:55:02.688 +07:00 [INF] Route matched with {action = "Index", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:55:02.692 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [t].[DangKyId], [t].[GoiTapId], [t].[LopHocId], [t].[LyDoHuy], [t].[NgayBatDau], [t].[NgayKetThuc], [t].[NgayTao], [t].[NguoiDungId], [t].[PhiDangKy], [t].[TrangThai]
FROM [LopHocs] AS [l]
LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t] ON [l].[LopHocId] = [t].[LopHocId]
ORDER BY [l].[LopHocId], [n].[NguoiDungId]
2025-07-26 10:55:02.698 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:55:02.703 +07:00 [INF] Executed ViewResult - view Index executed in 5.1825ms.
2025-07-26 10:55:02.706 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web) in 15.503ms
2025-07-26 10:55:02.708 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:55:02.711 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/LopHoc - 200 null text/html; charset=utf-8 29.9412ms
2025-07-26 10:55:02.753 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:55:02.760 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.604ms
2025-07-26 10:55:02.770 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:55:13.150 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Auth/Logout - null null
2025-07-26 10:55:13.158 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Logout (GymManagement.Web)'
2025-07-26 10:55:13.166 +07:00 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout() on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:55:13.175 +07:00 [INF] User session cleared
2025-07-26 10:55:13.180 +07:00 [INF] AuthenticationScheme: Cookies signed out.
2025-07-26 10:55:13.185 +07:00 [INF] User admin logged out.
2025-07-26 10:55:13.188 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-26 10:55:13.191 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Logout (GymManagement.Web) in 19.6159ms
2025-07-26 10:55:13.195 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Logout (GymManagement.Web)'
2025-07-26 10:55:13.198 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Auth/Logout - 302 0 null 47.1389ms
2025-07-26 10:55:13.205 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/ - null null
2025-07-26 10:55:13.211 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:55:13.215 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:55:13.245 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[GoiTapId], [t].[Gia], [t].[MoTa], [t].[SoBuoiToiDa], [t].[TenGoi], [t].[ThoiHanThang], [d0].[DangKyId], [d0].[GoiTapId], [d0].[LopHocId], [d0].[LyDoHuy], [d0].[NgayBatDau], [d0].[NgayKetThuc], [d0].[NgayTao], [d0].[NguoiDungId], [d0].[PhiDangKy], [d0].[TrangThai]
FROM (
    SELECT TOP(@__p_0) [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], (
        SELECT COUNT(*)
        FROM [DangKys] AS [d]
        WHERE [g].[GoiTapId] = [d].[GoiTapId]) AS [c]
    FROM [GoiTaps] AS [g]
    ORDER BY (
        SELECT COUNT(*)
        FROM [DangKys] AS [d]
        WHERE [g].[GoiTapId] = [d].[GoiTapId]) DESC
) AS [t]
LEFT JOIN [DangKys] AS [d0] ON [t].[GoiTapId] = [d0].[GoiTapId]
ORDER BY [t].[c] DESC, [t].[GoiTapId]
2025-07-26 10:55:13.269 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [t].[DangKyId], [t].[GoiTapId], [t].[LopHocId], [t].[LyDoHuy], [t].[NgayBatDau], [t].[NgayKetThuc], [t].[NgayTao], [t].[NguoiDungId], [t].[PhiDangKy], [t].[TrangThai]
FROM [LopHocs] AS [l]
LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t] ON [l].[LopHocId] = [t].[LopHocId]
WHERE [l].[TrangThai] = N'OPEN'
ORDER BY [l].[LopHocId], [n].[NguoiDungId]
2025-07-26 10:55:13.280 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:55:13.302 +07:00 [INF] Executed ViewResult - view Index executed in 23.1034ms.
2025-07-26 10:55:13.306 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 87.6884ms
2025-07-26 10:55:13.310 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:55:13.312 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/ - 200 null text/html; charset=utf-8 106.6776ms
2025-07-26 10:55:13.442 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GymManagement.Web.styles.css?v=vhnB1S-qQ2J2sKlxtuh4YlQfToMU1w7iB0sYA2YAVmw - null null
2025-07-26 10:55:13.454 +07:00 [INF] The file /GymManagement.Web.styles.css was not modified
2025-07-26 10:55:13.457 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GymManagement.Web.styles.css?v=vhnB1S-qQ2J2sKlxtuh4YlQfToMU1w7iB0sYA2YAVmw - 304 null text/css 14.9856ms
2025-07-26 10:55:31.158 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Auth/Register - null null
2025-07-26 10:55:31.163 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Register (GymManagement.Web)'
2025-07-26 10:55:31.166 +07:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register() on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:55:31.172 +07:00 [INF] Executing ViewResult, running view Register.
2025-07-26 10:55:31.195 +07:00 [INF] Executed ViewResult - view Register executed in 24.5388ms.
2025-07-26 10:55:31.200 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Register (GymManagement.Web) in 29.292ms
2025-07-26 10:55:31.203 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Register (GymManagement.Web)'
2025-07-26 10:55:31.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Auth/Register - 200 null text/html; charset=utf-8 48.9135ms
2025-07-26 10:55:33.804 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Auth/Login - null null
2025-07-26 10:55:33.810 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:55:33.813 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:55:33.817 +07:00 [INF] Executing ViewResult, running view Login.
2025-07-26 10:55:33.825 +07:00 [INF] Executed ViewResult - view Login executed in 8.0523ms.
2025-07-26 10:55:33.828 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web) in 11.3431ms
2025-07-26 10:55:33.831 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:55:33.834 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Auth/Login - 200 null text/html; charset=utf-8 29.9486ms
2025-07-26 10:55:36.546 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/Auth/Login - application/x-www-form-urlencoded 267
2025-07-26 10:55:36.553 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:55:36.555 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(GymManagement.Web.Models.ViewModels.LoginViewModel, System.String) on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:55:36.572 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__username_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[TenDangNhap] = @__username_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:55:36.593 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [TaiKhoan] SET [LanDangNhapCuoi] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-26 10:55:36.599 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 10:55:36.604 +07:00 [INF] AuthenticationScheme: Cookies signed in.
2025-07-26 10:55:36.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 10:55:36.613 +07:00 [INF] User session set for user: member4
2025-07-26 10:55:36.615 +07:00 [INF] User member4 logged in successfully.
2025-07-26 10:55:36.617 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-26 10:55:36.620 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web) in 60.6515ms
2025-07-26 10:55:36.623 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:55:36.626 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/Auth/Login - 302 0 null 79.2358ms
2025-07-26 10:55:36.634 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/ - null null
2025-07-26 10:55:36.643 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:55:36.646 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:55:36.665 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[GoiTapId], [t].[Gia], [t].[MoTa], [t].[SoBuoiToiDa], [t].[TenGoi], [t].[ThoiHanThang], [d0].[DangKyId], [d0].[GoiTapId], [d0].[LopHocId], [d0].[LyDoHuy], [d0].[NgayBatDau], [d0].[NgayKetThuc], [d0].[NgayTao], [d0].[NguoiDungId], [d0].[PhiDangKy], [d0].[TrangThai]
FROM (
    SELECT TOP(@__p_0) [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], (
        SELECT COUNT(*)
        FROM [DangKys] AS [d]
        WHERE [g].[GoiTapId] = [d].[GoiTapId]) AS [c]
    FROM [GoiTaps] AS [g]
    ORDER BY (
        SELECT COUNT(*)
        FROM [DangKys] AS [d]
        WHERE [g].[GoiTapId] = [d].[GoiTapId]) DESC
) AS [t]
LEFT JOIN [DangKys] AS [d0] ON [t].[GoiTapId] = [d0].[GoiTapId]
ORDER BY [t].[c] DESC, [t].[GoiTapId]
2025-07-26 10:55:36.695 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayBatDau] DESC
2025-07-26 10:55:36.706 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:55:36.712 +07:00 [INF] Executed ViewResult - view Index executed in 6.2662ms.
2025-07-26 10:55:36.716 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 64.172ms
2025-07-26 10:55:36.720 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:55:36.724 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/ - 200 null text/html; charset=utf-8 89.7502ms
2025-07-26 10:55:39.629 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/MemberDashboard - null null
2025-07-26 10:55:39.637 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.MemberDashboard (GymManagement.Web)'
2025-07-26 10:55:39.644 +07:00 [INF] Route matched with {action = "MemberDashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MemberDashboard() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:55:39.675 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:55:39.690 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__thanhVienId_0='?' (DbType = Int32), @__startDate_1='?' (DbType = DateTime2), @__endDate_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThanhVienId] = @__thanhVienId_0 AND [d].[ThoiGian] >= @__startDate_1 AND [d].[ThoiGian] <= @__endDate_2
2025-07-26 10:55:39.695 +07:00 [INF] Executing ViewResult, running view MemberDashboard.
2025-07-26 10:55:39.707 +07:00 [INF] Executed ViewResult - view MemberDashboard executed in 12.2879ms.
2025-07-26 10:55:39.709 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.MemberDashboard (GymManagement.Web) in 59.4965ms
2025-07-26 10:55:39.712 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.MemberDashboard (GymManagement.Web)'
2025-07-26 10:55:39.714 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/MemberDashboard - 200 null text/html; charset=utf-8 84.5804ms
2025-07-26 10:55:48.659 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/Packages - null null
2025-07-26 10:55:48.664 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.Packages (GymManagement.Web)'
2025-07-26 10:55:48.670 +07:00 [INF] Route matched with {action = "Packages", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Packages() on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:55:48.695 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-26 10:55:48.704 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayBatDau] DESC
2025-07-26 10:55:48.721 +07:00 [INF] Debug Packages: Total=4, Registered=1, Available=3, HasActive=True
2025-07-26 10:55:48.726 +07:00 [INF] RegisteredPackageIds: [3]
2025-07-26 10:55:48.732 +07:00 [INF] Executing ViewResult, running view Packages.
2025-07-26 10:55:48.769 +07:00 [INF] Executed ViewResult - view Packages executed in 38.6468ms.
2025-07-26 10:55:48.771 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.Packages (GymManagement.Web) in 89.0399ms
2025-07-26 10:55:48.774 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.Packages (GymManagement.Web)'
2025-07-26 10:55:48.778 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/Packages - 200 null text/html; charset=utf-8 119.0421ms
2025-07-26 10:56:04.935 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/MyRegistrations - null null
2025-07-26 10:56:04.945 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web)'
2025-07-26 10:56:04.953 +07:00 [INF] Route matched with {action = "MyRegistrations", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyRegistrations() on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:56:04.961 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:56:04.967 +07:00 [INF] Executing ViewResult, running view MyRegistrations.
2025-07-26 10:56:04.978 +07:00 [INF] Executed ViewResult - view MyRegistrations executed in 11.8122ms.
2025-07-26 10:56:04.982 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web) in 25.3876ms
2025-07-26 10:56:04.985 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web)'
2025-07-26 10:56:04.988 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/MyRegistrations - 200 null text/html; charset=utf-8 52.4509ms
2025-07-26 10:56:09.229 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/Packages - null null
2025-07-26 10:56:09.234 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.Packages (GymManagement.Web)'
2025-07-26 10:56:09.237 +07:00 [INF] Route matched with {action = "Packages", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Packages() on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:56:09.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-26 10:56:09.253 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayBatDau] DESC
2025-07-26 10:56:09.261 +07:00 [INF] Debug Packages: Total=4, Registered=1, Available=3, HasActive=True
2025-07-26 10:56:09.264 +07:00 [INF] RegisteredPackageIds: [3]
2025-07-26 10:56:09.266 +07:00 [INF] Executing ViewResult, running view Packages.
2025-07-26 10:56:09.281 +07:00 [INF] Executed ViewResult - view Packages executed in 14.9602ms.
2025-07-26 10:56:09.292 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.Packages (GymManagement.Web) in 46.9042ms
2025-07-26 10:56:09.296 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.Packages (GymManagement.Web)'
2025-07-26 10:56:09.300 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/Packages - 200 null text/html; charset=utf-8 71.327ms
2025-07-26 10:56:22.001 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/Member/RegisterPackage - multipart/form-data; boundary=----WebKitFormBoundaryINw75137ksUcddAx 548
2025-07-26 10:56:22.008 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.RegisterPackage (GymManagement.Web)'
2025-07-26 10:56:22.018 +07:00 [INF] Route matched with {action = "RegisterPackage", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterPackage(Int32, Int32) on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:56:22.060 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
WHERE [g].[GoiTapId] = @__p_0
2025-07-26 10:56:22.076 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayBatDau] DESC
2025-07-26 10:56:22.088 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 10:56:22.094 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.RegisterPackage (GymManagement.Web) in 68.7393ms
2025-07-26 10:56:22.104 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.RegisterPackage (GymManagement.Web)'
2025-07-26 10:56:22.109 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/Member/RegisterPackage - 200 null application/json; charset=utf-8 107.3802ms
2025-07-26 10:56:30.991 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/MyRegistrations - null null
2025-07-26 10:56:30.996 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web)'
2025-07-26 10:56:30.999 +07:00 [INF] Route matched with {action = "MyRegistrations", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyRegistrations() on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:56:31.013 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:56:31.018 +07:00 [INF] Executing ViewResult, running view MyRegistrations.
2025-07-26 10:56:31.023 +07:00 [INF] Executed ViewResult - view MyRegistrations executed in 5.1676ms.
2025-07-26 10:56:31.026 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web) in 22.4631ms
2025-07-26 10:56:31.029 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web)'
2025-07-26 10:56:31.032 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/MyRegistrations - 200 null text/html; charset=utf-8 40.6637ms
2025-07-26 10:56:37.148 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/PackageDetails/3 - null null
2025-07-26 10:56:37.155 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.PackageDetails (GymManagement.Web)'
2025-07-26 10:56:37.162 +07:00 [INF] Route matched with {action = "PackageDetails", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PackageDetails(Int32) on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:56:37.176 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
WHERE [g].[GoiTapId] = @__p_0
2025-07-26 10:56:37.184 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:56:37.192 +07:00 [INF] Executing ViewResult, running view PackageDetails.
2025-07-26 10:56:37.209 +07:00 [INF] Executed ViewResult - view PackageDetails executed in 16.9744ms.
2025-07-26 10:56:37.212 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.PackageDetails (GymManagement.Web) in 44.0409ms
2025-07-26 10:56:37.214 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.PackageDetails (GymManagement.Web)'
2025-07-26 10:56:37.217 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/PackageDetails/3 - 200 null text/html; charset=utf-8 68.3836ms
2025-07-26 10:57:18.921 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/Classes - null null
2025-07-26 10:57:18.944 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.Classes (GymManagement.Web)'
2025-07-26 10:57:18.953 +07:00 [INF] Route matched with {action = "Classes", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Classes() on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 10:57:18.983 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:57:19.103 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[LopHocId], [t].[GiaTuyChinh], [t].[GioBatDau], [t].[GioKetThuc], [t].[HlvId], [t].[MoTa], [t].[SucChua], [t].[TenLop], [t].[ThoiLuong], [t].[ThuTrongTuan], [t].[TrangThai], [t].[NguoiDungId], [t].[AnhDaiDien], [t].[Email], [t].[GioiTinh], [t].[Ho], [t].[LoaiNguoiDung], [t].[NgaySinh], [t].[NgayTao], [t].[NgayThamGia], [t].[SoDienThoai], [t].[Ten], [t].[TrangThai0], [t0].[DangKyId], [t0].[GoiTapId], [t0].[LopHocId], [t0].[LyDoHuy], [t0].[NgayBatDau], [t0].[NgayKetThuc], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[PhiDangKy], [t0].[TrangThai]
FROM (
    SELECT TOP(1) [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai] AS [TrangThai0]
    FROM [LopHocs] AS [l]
    LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
    WHERE [l].[LopHocId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t0] ON [t].[LopHocId] = [t0].[LopHocId]
ORDER BY [t].[LopHocId], [t].[NguoiDungId]
2025-07-26 10:57:19.487 +07:00 [INF] Executed DbCommand (241ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32), @__lopHocId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DangKys] AS [d]
        WHERE [d].[NguoiDungId] = @__nguoiDungId_0 AND [d].[GoiTapId] IS NULL AND [d].[LopHocId] = @__lopHocId_2 AND [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 10:57:19.526 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:57:19.548 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayBatDau] DESC
2025-07-26 10:57:19.567 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[LopHocId], [t].[GiaTuyChinh], [t].[GioBatDau], [t].[GioKetThuc], [t].[HlvId], [t].[MoTa], [t].[SucChua], [t].[TenLop], [t].[ThoiLuong], [t].[ThuTrongTuan], [t].[TrangThai], [t].[NguoiDungId], [t].[AnhDaiDien], [t].[Email], [t].[GioiTinh], [t].[Ho], [t].[LoaiNguoiDung], [t].[NgaySinh], [t].[NgayTao], [t].[NgayThamGia], [t].[SoDienThoai], [t].[Ten], [t].[TrangThai0], [t0].[DangKyId], [t0].[GoiTapId], [t0].[LopHocId], [t0].[LyDoHuy], [t0].[NgayBatDau], [t0].[NgayKetThuc], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[PhiDangKy], [t0].[TrangThai]
FROM (
    SELECT TOP(1) [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai] AS [TrangThai0]
    FROM [LopHocs] AS [l]
    LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
    WHERE [l].[LopHocId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t0] ON [t].[LopHocId] = [t0].[LopHocId]
ORDER BY [t].[LopHocId], [t].[NguoiDungId]
2025-07-26 10:57:19.578 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32), @__lopHocId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DangKys] AS [d]
        WHERE [d].[NguoiDungId] = @__nguoiDungId_0 AND [d].[GoiTapId] IS NULL AND [d].[LopHocId] = @__lopHocId_2 AND [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 10:57:19.586 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[LopHocId], [t].[GiaTuyChinh], [t].[GioBatDau], [t].[GioKetThuc], [t].[HlvId], [t].[MoTa], [t].[SucChua], [t].[TenLop], [t].[ThoiLuong], [t].[ThuTrongTuan], [t].[TrangThai], [t].[NguoiDungId], [t].[AnhDaiDien], [t].[Email], [t].[GioiTinh], [t].[Ho], [t].[LoaiNguoiDung], [t].[NgaySinh], [t].[NgayTao], [t].[NgayThamGia], [t].[SoDienThoai], [t].[Ten], [t].[TrangThai0], [t0].[DangKyId], [t0].[GoiTapId], [t0].[LopHocId], [t0].[LyDoHuy], [t0].[NgayBatDau], [t0].[NgayKetThuc], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[PhiDangKy], [t0].[TrangThai]
FROM (
    SELECT TOP(1) [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai] AS [TrangThai0]
    FROM [LopHocs] AS [l]
    LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
    WHERE [l].[LopHocId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
    FROM [DangKys] AS [d]
    WHERE [d].[TrangThai] = N'ACTIVE'
) AS [t0] ON [t].[LopHocId] = [t0].[LopHocId]
ORDER BY [t].[LopHocId], [t].[NguoiDungId]
2025-07-26 10:57:19.593 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32), @__lopHocId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DangKys] AS [d]
        WHERE [d].[NguoiDungId] = @__nguoiDungId_0 AND [d].[GoiTapId] IS NULL AND [d].[LopHocId] = @__lopHocId_2 AND [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 10:57:19.614 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:57:19.622 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayBatDau] DESC
2025-07-26 10:57:19.638 +07:00 [INF] Executing ViewResult, running view Classes.
2025-07-26 10:57:19.743 +07:00 [INF] Executed ViewResult - view Classes executed in 105.9114ms.
2025-07-26 10:57:19.747 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.Classes (GymManagement.Web) in 788.7525ms
2025-07-26 10:57:19.750 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.Classes (GymManagement.Web)'
2025-07-26 10:57:19.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/Classes - 200 null text/html; charset=utf-8 833.22ms
2025-07-26 10:58:09.662 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking - null null
2025-07-26 10:58:09.669 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web)'
2025-07-26 10:58:09.677 +07:00 [INF] Route matched with {action = "Index", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:09.723 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai]
FROM [Bookings] AS [b]
2025-07-26 10:58:09.730 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:09.748 +07:00 [INF] Executed ViewResult - view Index executed in 18.7199ms.
2025-07-26 10:58:09.752 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web) in 70.816ms
2025-07-26 10:58:09.758 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web)'
2025-07-26 10:58:09.764 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking - 200 null text/html; charset=utf-8 102.727ms
2025-07-26 10:58:09.822 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:09.828 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.5628ms
2025-07-26 10:58:09.840 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:11.071 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking/Calendar - null null
2025-07-26 10:58:11.075 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.Calendar (GymManagement.Web)'
2025-07-26 10:58:11.080 +07:00 [INF] Route matched with {action = "Calendar", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Calendar() on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:11.089 +07:00 [INF] Executing ViewResult, running view Calendar.
2025-07-26 10:58:11.100 +07:00 [INF] Executed ViewResult - view Calendar executed in 11.0983ms.
2025-07-26 10:58:11.102 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.Calendar (GymManagement.Web) in 16.5912ms
2025-07-26 10:58:11.106 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.Calendar (GymManagement.Web)'
2025-07-26 10:58:11.108 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking/Calendar - 200 null text/html; charset=utf-8 37.2556ms
2025-07-26 10:58:11.153 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:11.160 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.3227ms
2025-07-26 10:58:11.173 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:11.689 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-06-28T17%3A00%3A00.000Z&end=2025-08-09T17%3A00%3A00.000Z - null null
2025-07-26 10:58:11.695 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:11.700 +07:00 [INF] Route matched with {action = "GetCalendarEvents", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCalendarEvents(System.DateTime, System.DateTime) on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:11.718 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:58:11.751 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__thanhVienId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [l0].[LichLopId], [l0].[GioBatDau], [l0].[GioKetThuc], [l0].[LopHocId], [l0].[Ngay], [l0].[SoLuongDaDat], [l0].[TrangThai]
FROM [Bookings] AS [b]
LEFT JOIN [NguoiDungs] AS [n] ON [b].[ThanhVienId] = [n].[NguoiDungId]
LEFT JOIN [LopHocs] AS [l] ON [b].[LopHocId] = [l].[LopHocId]
LEFT JOIN [LichLops] AS [l0] ON [b].[LichLopId] = [l0].[LichLopId]
WHERE [b].[ThanhVienId] = @__thanhVienId_0
ORDER BY [b].[Ngay] DESC
2025-07-26 10:58:11.758 +07:00 [INF] Executing JsonResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[GymManagement.Web.Data.Models.Booking, GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType18`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-26 10:58:11.765 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web) in 60.9655ms
2025-07-26 10:58:11.769 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:11.771 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-06-28T17%3A00%3A00.000Z&end=2025-08-09T17%3A00%3A00.000Z - 200 null application/json; charset=utf-8 82.0393ms
2025-07-26 10:58:19.916 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-07-26T17%3A00%3A00.000Z&end=2025-09-06T17%3A00%3A00.000Z - null null
2025-07-26 10:58:19.920 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:19.922 +07:00 [INF] Route matched with {action = "GetCalendarEvents", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCalendarEvents(System.DateTime, System.DateTime) on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:19.928 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:58:19.934 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thanhVienId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [l0].[LichLopId], [l0].[GioBatDau], [l0].[GioKetThuc], [l0].[LopHocId], [l0].[Ngay], [l0].[SoLuongDaDat], [l0].[TrangThai]
FROM [Bookings] AS [b]
LEFT JOIN [NguoiDungs] AS [n] ON [b].[ThanhVienId] = [n].[NguoiDungId]
LEFT JOIN [LopHocs] AS [l] ON [b].[LopHocId] = [l].[LopHocId]
LEFT JOIN [LichLops] AS [l0] ON [b].[LichLopId] = [l0].[LichLopId]
WHERE [b].[ThanhVienId] = @__thanhVienId_0
ORDER BY [b].[Ngay] DESC
2025-07-26 10:58:19.939 +07:00 [INF] Executing JsonResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[GymManagement.Web.Data.Models.Booking, GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType18`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-26 10:58:19.941 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web) in 15.4616ms
2025-07-26 10:58:19.944 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:19.946 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-07-26T17%3A00%3A00.000Z&end=2025-09-06T17%3A00%3A00.000Z - 200 null application/json; charset=utf-8 29.6889ms
2025-07-26 10:58:20.357 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-08-30T17%3A00%3A00.000Z&end=2025-10-11T17%3A00%3A00.000Z - null null
2025-07-26 10:58:20.364 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:20.365 +07:00 [INF] Route matched with {action = "GetCalendarEvents", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCalendarEvents(System.DateTime, System.DateTime) on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:20.371 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:58:20.379 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__thanhVienId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [l0].[LichLopId], [l0].[GioBatDau], [l0].[GioKetThuc], [l0].[LopHocId], [l0].[Ngay], [l0].[SoLuongDaDat], [l0].[TrangThai]
FROM [Bookings] AS [b]
LEFT JOIN [NguoiDungs] AS [n] ON [b].[ThanhVienId] = [n].[NguoiDungId]
LEFT JOIN [LopHocs] AS [l] ON [b].[LopHocId] = [l].[LopHocId]
LEFT JOIN [LichLops] AS [l0] ON [b].[LichLopId] = [l0].[LichLopId]
WHERE [b].[ThanhVienId] = @__thanhVienId_0
ORDER BY [b].[Ngay] DESC
2025-07-26 10:58:20.383 +07:00 [INF] Executing JsonResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[GymManagement.Web.Data.Models.Booking, GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType18`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-26 10:58:20.385 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web) in 15.079ms
2025-07-26 10:58:20.387 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:20.388 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-08-30T17%3A00%3A00.000Z&end=2025-10-11T17%3A00%3A00.000Z - 200 null application/json; charset=utf-8 31.0159ms
2025-07-26 10:58:21.257 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-07-26T17%3A00%3A00.000Z&end=2025-09-06T17%3A00%3A00.000Z - null null
2025-07-26 10:58:21.262 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:21.264 +07:00 [INF] Route matched with {action = "GetCalendarEvents", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCalendarEvents(System.DateTime, System.DateTime) on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:21.269 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:58:21.274 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__thanhVienId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [l0].[LichLopId], [l0].[GioBatDau], [l0].[GioKetThuc], [l0].[LopHocId], [l0].[Ngay], [l0].[SoLuongDaDat], [l0].[TrangThai]
FROM [Bookings] AS [b]
LEFT JOIN [NguoiDungs] AS [n] ON [b].[ThanhVienId] = [n].[NguoiDungId]
LEFT JOIN [LopHocs] AS [l] ON [b].[LopHocId] = [l].[LopHocId]
LEFT JOIN [LichLops] AS [l0] ON [b].[LichLopId] = [l0].[LichLopId]
WHERE [b].[ThanhVienId] = @__thanhVienId_0
ORDER BY [b].[Ngay] DESC
2025-07-26 10:58:21.279 +07:00 [INF] Executing JsonResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[GymManagement.Web.Data.Models.Booking, GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType18`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-26 10:58:21.281 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web) in 14.3089ms
2025-07-26 10:58:21.283 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:21.285 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-07-26T17%3A00%3A00.000Z&end=2025-09-06T17%3A00%3A00.000Z - 200 null application/json; charset=utf-8 27.1188ms
2025-07-26 10:58:21.412 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-06-28T17%3A00%3A00.000Z&end=2025-08-09T17%3A00%3A00.000Z - null null
2025-07-26 10:58:21.419 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:21.420 +07:00 [INF] Route matched with {action = "GetCalendarEvents", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCalendarEvents(System.DateTime, System.DateTime) on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:21.427 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:58:21.433 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__thanhVienId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [l0].[LichLopId], [l0].[GioBatDau], [l0].[GioKetThuc], [l0].[LopHocId], [l0].[Ngay], [l0].[SoLuongDaDat], [l0].[TrangThai]
FROM [Bookings] AS [b]
LEFT JOIN [NguoiDungs] AS [n] ON [b].[ThanhVienId] = [n].[NguoiDungId]
LEFT JOIN [LopHocs] AS [l] ON [b].[LopHocId] = [l].[LopHocId]
LEFT JOIN [LichLops] AS [l0] ON [b].[LichLopId] = [l0].[LichLopId]
WHERE [b].[ThanhVienId] = @__thanhVienId_0
ORDER BY [b].[Ngay] DESC
2025-07-26 10:58:21.437 +07:00 [INF] Executing JsonResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[GymManagement.Web.Data.Models.Booking, GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType18`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], GymManagement.Web, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-26 10:58:21.438 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web) in 13.6037ms
2025-07-26 10:58:21.443 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.GetCalendarEvents (GymManagement.Web)'
2025-07-26 10:58:21.445 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking/GetCalendarEvents?start=2025-06-28T17%3A00%3A00.000Z&end=2025-08-09T17%3A00%3A00.000Z - 200 null application/json; charset=utf-8 32.5814ms
2025-07-26 10:58:25.720 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/BaoCao - null null
2025-07-26 10:58:25.724 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BaoCaoController.Index (GymManagement.Web)'
2025-07-26 10:58:25.729 +07:00 [INF] Route matched with {action = "Index", controller = "BaoCao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.BaoCaoController (GymManagement.Web).
2025-07-26 10:58:25.742 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:58:25.749 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.755 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:58:25.761 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-26 10:58:25.765 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-26 10:58:25.775 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NgayTao] >= @__startDate_0 AND [d].[NgayTao] <= @__endDate_1
ORDER BY [d].[NgayTao] DESC
2025-07-26 10:58:25.783 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:58:25.788 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.794 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.798 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.805 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.810 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.814 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.818 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:25.830 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[ThanhToanId], [t].[DangKyId], [t].[GhiChu], [t].[NgayThanhToan], [t].[PhuongThuc], [t].[SoTien], [t].[TrangThai], [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [ThanhToans] AS [t]
INNER JOIN [DangKys] AS [d] ON [t].[DangKyId] = [d].[DangKyId]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
ORDER BY [t].[NgayThanhToan] DESC
2025-07-26 10:58:25.835 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:25.846 +07:00 [INF] Executed ViewResult - view Index executed in 11.3882ms.
2025-07-26 10:58:25.849 +07:00 [INF] Executed action GymManagement.Web.Controllers.BaoCaoController.Index (GymManagement.Web) in 116.6129ms
2025-07-26 10:58:25.851 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BaoCaoController.Index (GymManagement.Web)'
2025-07-26 10:58:25.856 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/BaoCao - 200 null text/html; charset=utf-8 135.1919ms
2025-07-26 10:58:25.910 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:25.931 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 21.2383ms
2025-07-26 10:58:25.940 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:26.019 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/BaoCao/GetQuickStats - null null
2025-07-26 10:58:26.027 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BaoCaoController.GetQuickStats (GymManagement.Web)'
2025-07-26 10:58:26.033 +07:00 [INF] Route matched with {action = "GetQuickStats", controller = "BaoCao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuickStats() on controller GymManagement.Web.Controllers.BaoCaoController (GymManagement.Web).
2025-07-26 10:58:26.043 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:58:26.057 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-26 10:58:26.066 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:58:26.073 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:58:26.080 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType13`5[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 10:58:26.084 +07:00 [INF] Executed action GymManagement.Web.Controllers.BaoCaoController.GetQuickStats (GymManagement.Web) in 45.2256ms
2025-07-26 10:58:26.088 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BaoCaoController.GetQuickStats (GymManagement.Web)'
2025-07-26 10:58:26.091 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/BaoCao/GetQuickStats - 200 null application/json; charset=utf-8 72.1881ms
2025-07-26 10:58:34.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/BangLuong - null null
2025-07-26 10:58:34.685 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BangLuongController.Index (GymManagement.Web)'
2025-07-26 10:58:34.693 +07:00 [INF] Route matched with {action = "Index", controller = "BangLuong"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.BangLuongController (GymManagement.Web).
2025-07-26 10:58:34.711 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BangLuongId], [b].[GhiChu], [b].[HlvId], [b].[LuongCoBan], [b].[NgayThanhToan], [b].[Thang], [b].[TienHoaHong]
FROM [BangLuongs] AS [b]
2025-07-26 10:58:34.717 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:34.737 +07:00 [INF] Executed ViewResult - view Index executed in 20.7864ms.
2025-07-26 10:58:34.741 +07:00 [INF] Executed action GymManagement.Web.Controllers.BangLuongController.Index (GymManagement.Web) in 41.778ms
2025-07-26 10:58:34.745 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BangLuongController.Index (GymManagement.Web)'
2025-07-26 10:58:34.754 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/BangLuong - 200 null text/html; charset=utf-8 75.5259ms
2025-07-26 10:58:34.797 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:34.804 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.511ms
2025-07-26 10:58:34.813 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:50.778 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/GoiTap - null null
2025-07-26 10:58:50.782 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 10:58:50.784 +07:00 [INF] Route matched with {action = "Index", controller = "GoiTap"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.GoiTapController (GymManagement.Web).
2025-07-26 10:58:50.796 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-26 10:58:50.801 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:50.805 +07:00 [INF] Executed ViewResult - view Index executed in 4.2351ms.
2025-07-26 10:58:50.807 +07:00 [INF] Executed action GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web) in 17.7345ms
2025-07-26 10:58:50.810 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.GoiTapController.Index (GymManagement.Web)'
2025-07-26 10:58:50.812 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/GoiTap - 200 null text/html; charset=utf-8 34.602ms
2025-07-26 10:58:50.875 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:50.886 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 10.5533ms
2025-07-26 10:58:50.895 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:51.353 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/LopHoc - null null
2025-07-26 10:58:51.356 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:58:51.358 +07:00 [INF] Route matched with {action = "Index", controller = "LopHoc"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.LopHocController (GymManagement.Web).
2025-07-26 10:58:51.361 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:51.367 +07:00 [INF] Executed ViewResult - view Index executed in 5.9668ms.
2025-07-26 10:58:51.372 +07:00 [INF] Executed action GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web) in 11.2353ms
2025-07-26 10:58:51.374 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.LopHocController.Index (GymManagement.Web)'
2025-07-26 10:58:51.377 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/LopHoc - 200 null text/html; charset=utf-8 23.7093ms
2025-07-26 10:58:51.412 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:51.422 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 10.0797ms
2025-07-26 10:58:51.430 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:51.913 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/DangKy - null null
2025-07-26 10:58:51.918 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web)'
2025-07-26 10:58:51.923 +07:00 [INF] Route matched with {action = "Index", controller = "DangKy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.DangKyController (GymManagement.Web).
2025-07-26 10:58:51.937 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
FROM [DangKys] AS [d]
2025-07-26 10:58:51.943 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:51.958 +07:00 [INF] Executed ViewResult - view Index executed in 14.9008ms.
2025-07-26 10:58:51.960 +07:00 [INF] Executed action GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web) in 32.0513ms
2025-07-26 10:58:51.963 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web)'
2025-07-26 10:58:51.966 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/DangKy - 200 null text/html; charset=utf-8 52.2896ms
2025-07-26 10:58:52.002 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:52.009 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.259ms
2025-07-26 10:58:52.015 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:52.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking - null null
2025-07-26 10:58:52.780 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web)'
2025-07-26 10:58:52.782 +07:00 [INF] Route matched with {action = "Index", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:52.789 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai]
FROM [Bookings] AS [b]
2025-07-26 10:58:52.793 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:52.795 +07:00 [INF] Executed ViewResult - view Index executed in 2.3934ms.
2025-07-26 10:58:52.799 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web) in 14.4557ms
2025-07-26 10:58:52.802 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web)'
2025-07-26 10:58:52.805 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking - 200 null text/html; charset=utf-8 28.2785ms
2025-07-26 10:58:52.849 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:52.859 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 9.9989ms
2025-07-26 10:58:52.873 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:53.859 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Booking - null null
2025-07-26 10:58:53.866 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web)'
2025-07-26 10:58:53.869 +07:00 [INF] Route matched with {action = "Index", controller = "Booking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.BookingController (GymManagement.Web).
2025-07-26 10:58:53.878 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BookingId], [b].[GhiChu], [b].[LichLopId], [b].[LopHocId], [b].[Ngay], [b].[NgayDat], [b].[NgayTao], [b].[ThanhVienId], [b].[TrangThai]
FROM [Bookings] AS [b]
2025-07-26 10:58:53.887 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:53.890 +07:00 [INF] Executed ViewResult - view Index executed in 3.6067ms.
2025-07-26 10:58:53.893 +07:00 [INF] Executed action GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web) in 17.6038ms
2025-07-26 10:58:53.903 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.BookingController.Index (GymManagement.Web)'
2025-07-26 10:58:53.906 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Booking - 200 null text/html; charset=utf-8 47.1409ms
2025-07-26 10:58:53.950 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:53.957 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.4972ms
2025-07-26 10:58:53.966 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:58:54.194 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/DangKy - null null
2025-07-26 10:58:54.199 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web)'
2025-07-26 10:58:54.201 +07:00 [INF] Route matched with {action = "Index", controller = "DangKy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.DangKyController (GymManagement.Web).
2025-07-26 10:58:54.209 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
FROM [DangKys] AS [d]
2025-07-26 10:58:54.214 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:58:54.218 +07:00 [INF] Executed ViewResult - view Index executed in 3.9483ms.
2025-07-26 10:58:54.221 +07:00 [INF] Executed action GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web) in 14.7559ms
2025-07-26 10:58:54.224 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web)'
2025-07-26 10:58:54.227 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/DangKy - 200 null text/html; charset=utf-8 32.8455ms
2025-07-26 10:58:54.278 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:58:54.286 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 8.3899ms
2025-07-26 10:58:54.293 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:59:29.402 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/DangKy/Details/1 - null null
2025-07-26 10:59:29.407 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.DangKyController.Details (GymManagement.Web)'
2025-07-26 10:59:29.412 +07:00 [INF] Route matched with {action = "Details", controller = "DangKy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32) on controller GymManagement.Web.Controllers.DangKyController (GymManagement.Web).
2025-07-26 10:59:29.429 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
FROM [DangKys] AS [d]
WHERE [d].[DangKyId] = @__p_0
2025-07-26 10:59:29.437 +07:00 [INF] Executing ViewResult, running view Details.
2025-07-26 10:59:29.445 +07:00 [INF] Executed ViewResult - view Details executed in 8.3827ms.
2025-07-26 10:59:29.448 +07:00 [INF] Executed action GymManagement.Web.Controllers.DangKyController.Details (GymManagement.Web) in 30.8623ms
2025-07-26 10:59:29.451 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.DangKyController.Details (GymManagement.Web)'
2025-07-26 10:59:29.454 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/DangKy/Details/1 - 200 null text/html; charset=utf-8 51.5201ms
2025-07-26 10:59:29.493 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:59:29.500 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.8512ms
2025-07-26 10:59:29.507 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:59:32.429 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/DangKy - null null
2025-07-26 10:59:32.433 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web)'
2025-07-26 10:59:32.435 +07:00 [INF] Route matched with {action = "Index", controller = "DangKy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.DangKyController (GymManagement.Web).
2025-07-26 10:59:32.439 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai]
FROM [DangKys] AS [d]
2025-07-26 10:59:32.444 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:59:32.449 +07:00 [INF] Executed ViewResult - view Index executed in 4.693ms.
2025-07-26 10:59:32.452 +07:00 [INF] Executed action GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web) in 14.3197ms
2025-07-26 10:59:32.454 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.DangKyController.Index (GymManagement.Web)'
2025-07-26 10:59:32.456 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/DangKy - 200 null text/html; charset=utf-8 27.2801ms
2025-07-26 10:59:32.497 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:59:32.505 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.6764ms
2025-07-26 10:59:32.514 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:59:50.295 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/DangKy/ActiveRegistrations - null null
2025-07-26 10:59:50.301 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.DangKyController.ActiveRegistrations (GymManagement.Web)'
2025-07-26 10:59:50.307 +07:00 [INF] Route matched with {action = "ActiveRegistrations", controller = "DangKy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ActiveRegistrations() on controller GymManagement.Web.Controllers.DangKyController (GymManagement.Web).
2025-07-26 10:59:50.326 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:59:50.334 +07:00 [INF] Executing ViewResult, running view ActiveRegistrations.
2025-07-26 10:59:50.340 +07:00 [ERR] The view 'ActiveRegistrations' was not found. Searched locations: ["/Views/DangKy/ActiveRegistrations.cshtml","/Views/Shared/ActiveRegistrations.cshtml"]
2025-07-26 10:59:50.354 +07:00 [INF] Executed action GymManagement.Web.Controllers.DangKyController.ActiveRegistrations (GymManagement.Web) in 42.5428ms
2025-07-26 10:59:50.357 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.DangKyController.ActiveRegistrations (GymManagement.Web)'
2025-07-26 10:59:50.362 +07:00 [ERR] Error in UserSessionMiddleware for path: /DangKy/ActiveRegistrations
System.InvalidOperationException: The view 'ActiveRegistrations' was not found. The following locations were searched:
/Views/DangKy/ActiveRegistrations.cshtml
/Views/Shared/ActiveRegistrations.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at GymManagement.Web.Middleware.UserSessionMiddleware.InvokeAsync(HttpContext context, IUserSessionService userSessionService) in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Middleware\UserSessionMiddleware.cs:line 74
2025-07-26 10:59:50.390 +07:00 [INF] User session cleared
2025-07-26 10:59:50.392 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/DangKy/ActiveRegistrations - 302 0 null 97.0221ms
2025-07-26 10:59:50.399 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Auth/Login?message=%C4%90%C3%A3%20x%E1%BA%A3y%20ra%20l%E1%BB%97i%20v%E1%BB%9Bi%20phi%C3%AAn%20%C4%91%C4%83ng%20nh%E1%BA%ADp.%20Vui%20l%C3%B2ng%20%C4%91%C4%83ng%20nh%E1%BA%ADp%20l%E1%BA%A1i. - null null
2025-07-26 10:59:50.406 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:59:50.408 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login(System.String) on controller GymManagement.Web.Controllers.AuthController (GymManagement.Web).
2025-07-26 10:59:50.414 +07:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-26 10:59:50.417 +07:00 [INF] Executed action GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web) in 4.1206ms
2025-07-26 10:59:50.421 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.AuthController.Login (GymManagement.Web)'
2025-07-26 10:59:50.424 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Auth/Login?message=%C4%90%C3%A3%20x%E1%BA%A3y%20ra%20l%E1%BB%97i%20v%E1%BB%9Bi%20phi%C3%AAn%20%C4%91%C4%83ng%20nh%E1%BA%ADp.%20Vui%20l%C3%B2ng%20%C4%91%C4%83ng%20nh%E1%BA%ADp%20l%E1%BA%A1i. - 302 0 null 25.0012ms
2025-07-26 10:59:50.432 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/ - null null
2025-07-26 10:59:50.449 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[Email], [t0].[EmailXacNhan], [t0].[KichHoat], [t0].[LanDangNhapCuoi], [t0].[MatKhauHash], [t0].[NgayTao], [t0].[NguoiDungId], [t0].[Salt], [t0].[TenDangNhap], [t0].[NguoiDungId0], [t0].[AnhDaiDien], [t0].[Email0], [t0].[GioiTinh], [t0].[Ho], [t0].[LoaiNguoiDung], [t0].[NgaySinh], [t0].[NgayTao0], [t0].[NgayThamGia], [t0].[SoDienThoai], [t0].[Ten], [t0].[TrangThai], [t1].[Id], [t1].[NgayGan], [t1].[TaiKhoanId], [t1].[VaiTroId], [t1].[Id0], [t1].[MoTa], [t1].[NgayTao], [t1].[TenVaiTro]
FROM (
    SELECT TOP(1) [t].[Id], [t].[Email], [t].[EmailXacNhan], [t].[KichHoat], [t].[LanDangNhapCuoi], [t].[MatKhauHash], [t].[NgayTao], [t].[NguoiDungId], [t].[Salt], [t].[TenDangNhap], [n].[NguoiDungId] AS [NguoiDungId0], [n].[AnhDaiDien], [n].[Email] AS [Email0], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao] AS [NgayTao0], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
    FROM [TaiKhoan] AS [t]
    LEFT JOIN [NguoiDungs] AS [n] ON [t].[NguoiDungId] = [n].[NguoiDungId]
    WHERE [t].[Id] = @__id_0
) AS [t0]
LEFT JOIN (
    SELECT [t2].[Id], [t2].[NgayGan], [t2].[TaiKhoanId], [t2].[VaiTroId], [v].[Id] AS [Id0], [v].[MoTa], [v].[NgayTao], [v].[TenVaiTro]
    FROM [TaiKhoanVaiTros] AS [t2]
    INNER JOIN [VaiTro] AS [v] ON [t2].[VaiTroId] = [v].[Id]
) AS [t1] ON [t0].[Id] = [t1].[TaiKhoanId]
ORDER BY [t0].[Id], [t0].[NguoiDungId0], [t1].[Id]
2025-07-26 10:59:50.457 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[TenVaiTro]
FROM [TaiKhoanVaiTros] AS [t]
INNER JOIN [VaiTro] AS [v] ON [t].[VaiTroId] = [v].[Id]
WHERE [t].[TaiKhoanId] = @__userId_0
2025-07-26 10:59:50.461 +07:00 [INF] User session set for user: admin
2025-07-26 10:59:50.463 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:59:50.465 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:59:50.469 +07:00 [INF] Executing RedirectResult, redirecting to /Home/Dashboard.
2025-07-26 10:59:50.471 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 2.0056ms
2025-07-26 10:59:50.473 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:59:50.475 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/ - 302 0 null 42.7759ms
2025-07-26 10:59:50.481 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/Dashboard - null null
2025-07-26 10:59:50.488 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:59:50.490 +07:00 [INF] Route matched with {action = "Dashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:59:50.493 +07:00 [INF] User action: admin (f2a371dc-c45f-4619-84fe-691582c7fe10) performed AccessDashboard
2025-07-26 10:59:50.495 +07:00 [INF] Executing ViewResult, running view Dashboard.
2025-07-26 10:59:50.498 +07:00 [INF] Executed ViewResult - view Dashboard executed in 2.9951ms.
2025-07-26 10:59:50.503 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web) in 10.5513ms
2025-07-26 10:59:50.505 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:59:50.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/Dashboard - 200 null text/html; charset=utf-8 26.7424ms
2025-07-26 10:59:50.551 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:59:50.557 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 6.0806ms
2025-07-26 10:59:50.565 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:59:50.679 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - null null
2025-07-26 10:59:50.684 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:59:50.686 +07:00 [INF] Route matched with {action = "GetRealtimeStats", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRealtimeStats() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:59:50.694 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:59:50.706 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:59:50.712 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:59:50.721 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType67`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 10:59:50.723 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web) in 32.4263ms
2025-07-26 10:59:50.725 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:59:50.728 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - 200 null application/json; charset=utf-8 49.3197ms
2025-07-26 10:59:51.954 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/ - null null
2025-07-26 10:59:51.957 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:59:51.959 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:59:51.967 +07:00 [INF] Executing RedirectResult, redirecting to /Home/Dashboard.
2025-07-26 10:59:51.969 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 5.3899ms
2025-07-26 10:59:51.971 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-26 10:59:51.973 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/ - 302 0 null 18.917ms
2025-07-26 10:59:51.977 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/Dashboard - null null
2025-07-26 10:59:51.984 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:59:51.985 +07:00 [INF] Route matched with {action = "Dashboard", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Dashboard() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:59:51.987 +07:00 [INF] User action: admin (f2a371dc-c45f-4619-84fe-691582c7fe10) performed AccessDashboard
2025-07-26 10:59:51.989 +07:00 [INF] Executing ViewResult, running view Dashboard.
2025-07-26 10:59:51.991 +07:00 [INF] Executed ViewResult - view Dashboard executed in 1.5785ms.
2025-07-26 10:59:51.993 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web) in 5.5598ms
2025-07-26 10:59:51.996 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Dashboard (GymManagement.Web)'
2025-07-26 10:59:51.999 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/Dashboard - 200 null text/html; charset=utf-8 22.6693ms
2025-07-26 10:59:52.024 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - null null
2025-07-26 10:59:52.032 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/images/gym-logo.png - 404 0 null 7.6859ms
2025-07-26 10:59:52.037 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5003/images/gym-logo.png, Response status code: 404
2025-07-26 10:59:52.102 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - null null
2025-07-26 10:59:52.107 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:59:52.109 +07:00 [INF] Route matched with {action = "GetRealtimeStats", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRealtimeStats() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-26 10:59:52.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-26 10:59:52.121 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-26 10:59:52.127 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-26 10:59:52.134 +07:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType67`4[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-26 10:59:52.138 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web) in 23.7417ms
2025-07-26 10:59:52.140 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.GetRealtimeStats (GymManagement.Web)'
2025-07-26 10:59:52.142 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Home/GetRealtimeStats - 200 null application/json; charset=utf-8 39.8497ms
2025-07-26 10:59:56.825 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Profile - null null
2025-07-26 10:59:56.831 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.ProfileController.Index (GymManagement.Web)'
2025-07-26 10:59:56.839 +07:00 [INF] Route matched with {action = "Index", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.ProfileController (GymManagement.Web).
2025-07-26 10:59:56.854 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [NguoiDungs] AS [n]
WHERE [n].[NguoiDungId] = @__p_0
2025-07-26 10:59:56.866 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 10:59:56.873 +07:00 [INF] Executed ViewResult - view Index executed in 8.301ms.
2025-07-26 10:59:56.877 +07:00 [INF] Executed action GymManagement.Web.Controllers.ProfileController.Index (GymManagement.Web) in 31.6566ms
2025-07-26 10:59:56.879 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.ProfileController.Index (GymManagement.Web)'
2025-07-26 10:59:56.883 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Profile - 200 null text/html; charset=utf-8 58.0144ms
2025-07-26 10:59:57.014 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/uploads/avatars/avatar_5_20250725193045.png - null null
2025-07-26 10:59:57.054 +07:00 [INF] Sending file. Request path: '/uploads/avatars/avatar_5_20250725193045.png'. Physical path: 'D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\wwwroot\uploads\avatars\avatar_5_20250725193045.png'
2025-07-26 10:59:57.058 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/uploads/avatars/avatar_5_20250725193045.png - 200 1376691 image/png 44.1287ms
2025-07-26 11:00:08.018 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Profile/Edit - null null
2025-07-26 11:00:08.022 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.ProfileController.Edit (GymManagement.Web)'
2025-07-26 11:00:08.029 +07:00 [INF] Route matched with {action = "Edit", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit() on controller GymManagement.Web.Controllers.ProfileController (GymManagement.Web).
2025-07-26 11:00:08.044 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [NguoiDungs] AS [n]
WHERE [n].[NguoiDungId] = @__p_0
2025-07-26 11:00:08.053 +07:00 [INF] Executing ViewResult, running view Edit.
2025-07-26 11:00:08.095 +07:00 [INF] Executed ViewResult - view Edit executed in 43.1876ms.
2025-07-26 11:00:08.100 +07:00 [INF] Executed action GymManagement.Web.Controllers.ProfileController.Edit (GymManagement.Web) in 62.3673ms
2025-07-26 11:00:08.104 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.ProfileController.Edit (GymManagement.Web)'
2025-07-26 11:00:08.106 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Profile/Edit - 200 null text/html; charset=utf-8 88.3341ms
2025-07-26 11:00:14.571 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5003/Profile/Edit - multipart/form-data; boundary=----WebKitFormBoundaryw7h4qyyiAiXFMajQ 1761
2025-07-26 11:00:14.580 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.ProfileController.Edit (GymManagement.Web)'
2025-07-26 11:00:14.586 +07:00 [INF] Route matched with {action = "Edit", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(GymManagement.Web.Models.DTOs.NguoiDungDto, Microsoft.AspNetCore.Http.IFormFile) on controller GymManagement.Web.Controllers.ProfileController (GymManagement.Web).
2025-07-26 11:00:14.600 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [NguoiDungs] AS [n]
WHERE [n].[NguoiDungId] = @__p_0
2025-07-26 11:00:14.613 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (Size = 255), @p1='?' (Size = 100), @p2='?' (Size = 10), @p3='?' (Size = 50), @p4='?' (Size = 20), @p5='?' (DbType = Date), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Date), @p8='?' (Size = 15), @p9='?' (Size = 50), @p10='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [NguoiDungs] SET [AnhDaiDien] = @p0, [Email] = @p1, [GioiTinh] = @p2, [Ho] = @p3, [LoaiNguoiDung] = @p4, [NgaySinh] = @p5, [NgayTao] = @p6, [NgayThamGia] = @p7, [SoDienThoai] = @p8, [Ten] = @p9, [TrangThai] = @p10
OUTPUT 1
WHERE [NguoiDungId] = @p11;
2025-07-26 11:00:14.618 +07:00 [INF] Executing RedirectResult, redirecting to /Profile.
2025-07-26 11:00:14.620 +07:00 [INF] Executed action GymManagement.Web.Controllers.ProfileController.Edit (GymManagement.Web) in 29.2076ms
2025-07-26 11:00:14.621 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.ProfileController.Edit (GymManagement.Web)'
2025-07-26 11:00:14.623 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5003/Profile/Edit - 302 0 null 52.1444ms
2025-07-26 11:00:14.635 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Profile - null null
2025-07-26 11:00:14.640 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.ProfileController.Index (GymManagement.Web)'
2025-07-26 11:00:14.642 +07:00 [INF] Route matched with {action = "Index", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.ProfileController (GymManagement.Web).
2025-07-26 11:00:14.649 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [NguoiDungs] AS [n]
WHERE [n].[NguoiDungId] = @__p_0
2025-07-26 11:00:14.653 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-26 11:00:14.656 +07:00 [INF] Executed ViewResult - view Index executed in 2.8975ms.
2025-07-26 11:00:14.659 +07:00 [INF] Executed action GymManagement.Web.Controllers.ProfileController.Index (GymManagement.Web) in 11.3832ms
2025-07-26 11:00:14.662 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.ProfileController.Index (GymManagement.Web)'
2025-07-26 11:00:14.665 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Profile - 200 null text/html; charset=utf-8 30.4599ms
2025-07-26 11:00:26.079 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Profile/ChangePassword - null null
2025-07-26 11:00:26.084 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.ProfileController.ChangePassword (GymManagement.Web)'
2025-07-26 11:00:26.087 +07:00 [INF] Route matched with {action = "ChangePassword", controller = "Profile"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ChangePassword() on controller GymManagement.Web.Controllers.ProfileController (GymManagement.Web).
2025-07-26 11:00:26.093 +07:00 [INF] Executing ViewResult, running view ChangePassword.
2025-07-26 11:00:26.120 +07:00 [INF] Executed ViewResult - view ChangePassword executed in 28.3541ms.
2025-07-26 11:00:26.124 +07:00 [INF] Executed action GymManagement.Web.Controllers.ProfileController.ChangePassword (GymManagement.Web) in 32.1152ms
2025-07-26 11:00:26.126 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.ProfileController.ChangePassword (GymManagement.Web)'
2025-07-26 11:00:26.129 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Profile/ChangePassword - 200 null text/html; charset=utf-8 49.5164ms
2025-07-26 11:00:36.266 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5003/Member/MyRegistrations - null null
2025-07-26 11:00:36.270 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web)'
2025-07-26 11:00:36.273 +07:00 [INF] Route matched with {action = "MyRegistrations", controller = "Member"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] MyRegistrations() on controller GymManagement.Web.Controllers.MemberController (GymManagement.Web).
2025-07-26 11:00:36.285 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__nguoiDungId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[LyDoHuy], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[PhiDangKy], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NguoiDungId] = @__nguoiDungId_0
ORDER BY [d].[NgayTao] DESC
2025-07-26 11:00:36.288 +07:00 [INF] Executing ViewResult, running view MyRegistrations.
2025-07-26 11:00:36.291 +07:00 [INF] Executed ViewResult - view MyRegistrations executed in 2.9766ms.
2025-07-26 11:00:36.297 +07:00 [INF] Executed action GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web) in 20.8207ms
2025-07-26 11:00:36.299 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.MemberController.MyRegistrations (GymManagement.Web)'
2025-07-26 11:00:36.301 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5003/Member/MyRegistrations - 200 null text/html; charset=utf-8 35.1229ms
2025-07-26 11:01:10.666 +07:00 [INF] Application is shutting down...
2025-07-26 19:39:16.277 +07:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-26 19:39:17.102 +07:00 [INF] Executed DbCommand (628ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-26 19:39:17.655 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [VaiTro] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-26 19:39:17.691 +07:00 [INF] Starting web application
2025-07-26 19:39:17.723 +07:00 [INF] User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-26 19:39:17.869 +07:00 [INF] Now listening on: http://localhost:5003
2025-07-26 19:39:17.875 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-26 19:39:17.878 +07:00 [INF] Hosting environment: Development
2025-07-26 19:39:17.882 +07:00 [INF] Content root path: D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web
