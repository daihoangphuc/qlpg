2025-07-22 20:43:56.122 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 20:43:56.225 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-22 20:43:56.535 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [VaiTro] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-22 20:43:56.570 +07:00 [INF] Starting web application
2025-07-22 20:43:56.598 +07:00 [INF] User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 20:43:56.717 +07:00 [INF] Now listening on: http://localhost:5149
2025-07-22 20:43:56.723 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 20:43:56.726 +07:00 [INF] Hosting environment: Development
2025-07-22 20:43:56.728 +07:00 [INF] Content root path: D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web
2025-07-22 20:43:57.376 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/Home/About - null null
2025-07-22 20:43:57.390 +07:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 20:43:57.496 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.About (GymManagement.Web)'
2025-07-22 20:43:57.518 +07:00 [INF] Route matched with {action = "About", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult About() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:43:57.571 +07:00 [INF] Executing ViewResult, running view About.
2025-07-22 20:43:57.614 +07:00 [INF] Executed ViewResult - view About executed in 45.4674ms.
2025-07-22 20:43:57.620 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.About (GymManagement.Web) in 97.4702ms
2025-07-22 20:43:57.622 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.About (GymManagement.Web)'
2025-07-22 20:43:57.630 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/Home/About - 200 null text/html; charset=utf-8 254.3855ms
2025-07-22 20:44:05.989 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/Home/About - null null
2025-07-22 20:44:05.997 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.About (GymManagement.Web)'
2025-07-22 20:44:06.000 +07:00 [INF] Route matched with {action = "About", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult About() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:44:06.052 +07:00 [INF] Executing ViewResult, running view About.
2025-07-22 20:44:06.060 +07:00 [INF] Executed ViewResult - view About executed in 8.5393ms.
2025-07-22 20:44:06.063 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.About (GymManagement.Web) in 59.7515ms
2025-07-22 20:44:06.065 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.About (GymManagement.Web)'
2025-07-22 20:44:06.068 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/Home/About - 200 null text/html; charset=utf-8 78.3384ms
2025-07-22 20:44:08.214 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/Home/Contact - null null
2025-07-22 20:44:08.222 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Contact (GymManagement.Web)'
2025-07-22 20:44:08.229 +07:00 [INF] Route matched with {action = "Contact", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Contact() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:44:08.242 +07:00 [INF] Executing ViewResult, running view Contact.
2025-07-22 20:44:08.247 +07:00 [INF] Executed ViewResult - view Contact executed in 5.5924ms.
2025-07-22 20:44:08.251 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Contact (GymManagement.Web) in 17.2836ms
2025-07-22 20:44:08.254 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Contact (GymManagement.Web)'
2025-07-22 20:44:08.258 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/Home/Contact - 200 null text/html; charset=utf-8 43.7208ms
2025-07-22 20:44:11.010 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/Home/Classes - null null
2025-07-22 20:44:11.017 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Classes (GymManagement.Web)'
2025-07-22 20:44:11.024 +07:00 [INF] Route matched with {action = "Classes", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Classes() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:44:11.126 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai]
FROM [LopHocs] AS [l]
LEFT JOIN [NguoiDungs] AS [n] ON [l].[HlvId] = [n].[NguoiDungId]
WHERE [l].[TrangThai] = N'OPEN'
2025-07-22 20:44:11.142 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GymManagement.Web.Data.GymDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'MoTa'.
Invalid column name 'ThoiLuong'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4273f673-31bf-41fd-af71-fd35169566ff
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'MoTa'.
Invalid column name 'ThoiLuong'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4273f673-31bf-41fd-af71-fd35169566ff
Error Number:207,State:1,Class:16
2025-07-22 20:44:11.153 +07:00 [ERR] Error occurred while loading classes
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'MoTa'.
Invalid column name 'ThoiLuong'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at GymManagement.Web.Data.Repositories.LopHocRepository.GetActiveClassesAsync() in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Data\Repositories\LopHocRepository.cs:line 14
   at GymManagement.Web.Services.LopHocService.GetActiveClassesAsync() in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Services\LopHocService.cs:line 88
   at GymManagement.Web.Controllers.HomeController.Classes() in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Controllers\HomeController.cs:line 113
ClientConnectionId:4273f673-31bf-41fd-af71-fd35169566ff
Error Number:207,State:1,Class:16
2025-07-22 20:44:11.169 +07:00 [INF] Executing ViewResult, running view Classes.
2025-07-22 20:44:11.175 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Classes (GymManagement.Web) in 146.3268ms
2025-07-22 20:44:11.178 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Classes (GymManagement.Web)'
2025-07-22 20:44:11.180 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[GymManagement.Web.Models.DTOs.LopHocDto]', but this ViewDataDictionary instance requires a model item of type 'System.Collections.Generic.IEnumerable`1[GymManagement.Web.Data.Models.LopHoc]'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at lambda_method62(Closure, ViewDataDictionary)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-22 20:44:11.212 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/Home/Classes - 500 null text/html; charset=utf-8 202.3668ms
2025-07-22 20:44:19.187 +07:00 [INF] Application is shutting down...
2025-07-22 20:50:34.247 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-22 20:50:34.329 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-07-22 20:50:34.448 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [VaiTro] AS [v]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-22 20:50:34.464 +07:00 [INF] Starting web application
2025-07-22 20:50:34.476 +07:00 [INF] User profile is available. Using 'C:\Users\ADMIN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-22 20:50:34.521 +07:00 [INF] Now listening on: http://localhost:5149
2025-07-22 20:50:34.527 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-22 20:50:34.531 +07:00 [INF] Hosting environment: Development
2025-07-22 20:50:34.534 +07:00 [INF] Content root path: D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web
2025-07-22 20:50:44.552 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/ - null null
2025-07-22 20:50:44.567 +07:00 [WRN] Failed to determine the https port for redirect.
2025-07-22 20:50:44.703 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-22 20:50:44.765 +07:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:50:44.899 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DangKys] AS [d]
WHERE [d].[TrangThai] = N'ACTIVE' AND [d].[NgayKetThuc] >= CAST(CONVERT(date, GETDATE()) AS date)
2025-07-22 20:50:44.931 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [DiemDanhs] AS [d]
WHERE [d].[ThoiGian] >= @__startDate_0 AND [d].[ThoiGian] < @__endDate_1
2025-07-22 20:50:44.955 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND [t].[NgayThanhToan] >= @__startDate_0 AND [t].[NgayThanhToan] <= @__endDate_1
2025-07-22 20:50:44.973 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-22 20:50:44.982 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__year_0='?' (DbType = Int32), @__month_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([t].[SoTien]), 0.0)
FROM [ThanhToans] AS [t]
WHERE [t].[TrangThai] = N'SUCCESS' AND DATEPART(year, [t].[NgayThanhToan]) = @__year_0 AND DATEPART(month, [t].[NgayThanhToan]) = @__month_1
2025-07-22 20:50:45.080 +07:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DangKyId], [d].[GoiTapId], [d].[LopHocId], [d].[NgayBatDau], [d].[NgayKetThuc], [d].[NgayTao], [d].[NguoiDungId], [d].[TrangThai], [n].[NguoiDungId], [n].[AnhDaiDien], [n].[Email], [n].[GioiTinh], [n].[Ho], [n].[LoaiNguoiDung], [n].[NgaySinh], [n].[NgayTao], [n].[NgayThamGia], [n].[SoDienThoai], [n].[Ten], [n].[TrangThai], [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang], [l].[LopHocId], [l].[GiaTuyChinh], [l].[GioBatDau], [l].[GioKetThuc], [l].[HlvId], [l].[MoTa], [l].[SucChua], [l].[TenLop], [l].[ThoiLuong], [l].[ThuTrongTuan], [l].[TrangThai]
FROM [DangKys] AS [d]
INNER JOIN [NguoiDungs] AS [n] ON [d].[NguoiDungId] = [n].[NguoiDungId]
LEFT JOIN [GoiTaps] AS [g] ON [d].[GoiTapId] = [g].[GoiTapId]
LEFT JOIN [LopHocs] AS [l] ON [d].[LopHocId] = [l].[LopHocId]
WHERE [d].[NgayTao] >= @__startDate_0 AND [d].[NgayTao] <= @__endDate_1
ORDER BY [d].[NgayTao] DESC
2025-07-22 20:50:45.097 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'GymManagement.Web.Data.GymDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'MoTa'.
Invalid column name 'ThoiLuong'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:46515ab6-bbdd-4c85-9ce5-21331040202c
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'MoTa'.
Invalid column name 'ThoiLuong'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:46515ab6-bbdd-4c85-9ce5-21331040202c
Error Number:207,State:1,Class:16
2025-07-22 20:50:45.111 +07:00 [ERR] Error occurred while loading home page
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'MoTa'.
Invalid column name 'ThoiLuong'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at GymManagement.Web.Data.Repositories.DangKyRepository.GetRegistrationsByDateRangeAsync(DateTime startDate, DateTime endDate) in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Data\Repositories\DangKyRepository.cs:line 70
   at GymManagement.Web.Services.BaoCaoService.GetNewMembersCountAsync(DateTime startDate, DateTime endDate) in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Services\BaoCaoService.cs:line 90
   at GymManagement.Web.Services.BaoCaoService.GetDashboardDataAsync() in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Services\BaoCaoService.cs:line 360
   at GymManagement.Web.Controllers.HomeController.Index() in D:\DATN\HANG_REMOTE\qlpg\GymManagement.Web\Controllers\HomeController.cs:line 48
ClientConnectionId:46515ab6-bbdd-4c85-9ce5-21331040202c
Error Number:207,State:1,Class:16
2025-07-22 20:50:45.139 +07:00 [INF] Executing ViewResult, running view Index.
2025-07-22 20:50:45.215 +07:00 [INF] Executed ViewResult - view Index executed in 77.3944ms.
2025-07-22 20:50:45.223 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web) in 451.7277ms
2025-07-22 20:50:45.228 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Index (GymManagement.Web)'
2025-07-22 20:50:45.237 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/ - 200 null text/html; charset=utf-8 689.6661ms
2025-07-22 20:50:51.640 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/Home/Packages - null null
2025-07-22 20:50:51.649 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.Packages (GymManagement.Web)'
2025-07-22 20:50:51.662 +07:00 [INF] Route matched with {action = "Packages", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Packages() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:50:51.779 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GoiTapId], [g].[Gia], [g].[MoTa], [g].[SoBuoiToiDa], [g].[TenGoi], [g].[ThoiHanThang]
FROM [GoiTaps] AS [g]
2025-07-22 20:50:51.851 +07:00 [INF] Executing ViewResult, running view Packages.
2025-07-22 20:50:51.863 +07:00 [INF] Executed ViewResult - view Packages executed in 12.8552ms.
2025-07-22 20:50:51.867 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.Packages (GymManagement.Web) in 200.3371ms
2025-07-22 20:50:51.873 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.Packages (GymManagement.Web)'
2025-07-22 20:50:51.877 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/Home/Packages - 200 null text/html; charset=utf-8 237.2357ms
2025-07-22 20:50:56.684 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5149/Home/About - null null
2025-07-22 20:50:56.691 +07:00 [INF] Executing endpoint 'GymManagement.Web.Controllers.HomeController.About (GymManagement.Web)'
2025-07-22 20:50:56.695 +07:00 [INF] Route matched with {action = "About", controller = "Home"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult About() on controller GymManagement.Web.Controllers.HomeController (GymManagement.Web).
2025-07-22 20:50:56.707 +07:00 [INF] Executing ViewResult, running view About.
2025-07-22 20:50:56.711 +07:00 [INF] Executed ViewResult - view About executed in 4.4753ms.
2025-07-22 20:50:56.714 +07:00 [INF] Executed action GymManagement.Web.Controllers.HomeController.About (GymManagement.Web) in 14.5086ms
2025-07-22 20:50:56.718 +07:00 [INF] Executed endpoint 'GymManagement.Web.Controllers.HomeController.About (GymManagement.Web)'
2025-07-22 20:50:56.720 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5149/Home/About - 200 null text/html; charset=utf-8 36.6158ms
2025-07-22 20:51:42.498 +07:00 [INF] Application is shutting down...
