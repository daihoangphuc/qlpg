@{
    ViewData["Title"] = "Test Email Service";
    Layout = "_Layout";
}

<div class="container mx-auto px-4 py-8">
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-6">üß™ Test Email Service</h1>
            
            @if (TempData["Success"] != null)
            {
                <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
                    <strong>‚úÖ Th√†nh c√¥ng!</strong> @TempData["Success"]
                </div>
            }
            
            @if (TempData["Error"] != null)
            {
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                    <strong>‚ùå L·ªói!</strong> @TempData["Error"]
                </div>
            }

            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                <h2 class="text-xl font-semibold text-blue-800 mb-3">üìß C·∫•u h√¨nh Email hi·ªán t·∫°i:</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div>
                        <strong>SMTP Server:</strong> smtp.gmail.com<br>
                        <strong>Port:</strong> 587<br>
                        <strong>Username:</strong> clbhtsvtvu@gmail.com
                    </div>
                    <div>
                        <strong>Sender Email:</strong> clbhtsvtvu@gmail.com<br>
                        <strong>Sender Name:</strong> H·ªá th·ªëng qu·∫£n l√Ω ph√≤ng GYM<br>
                        <strong>Security:</strong> TLS/SSL
                    </div>
                </div>
            </div>

            <form method="post" action="@Url.Action("SendTestEmail", "TestEmail")" class="space-y-6">
                <div>
                    <label for="toEmail" class="block text-sm font-medium text-gray-700 mb-2">
                        üìß Email nh·∫≠n test:
                    </label>
                    <input type="email" id="toEmail" name="toEmail" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                           placeholder="your-email@gmail.com">
                </div>

                <div>
                    <label for="testType" class="block text-sm font-medium text-gray-700 mb-2">
                        üéØ Lo·∫°i email test:
                    </label>
                    <select id="testType" name="testType" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="">-- Ch·ªçn lo·∫°i email test --</option>
                        <option value="welcome">üëã Welcome Email (Ch√†o m·ª´ng th√†nh vi√™n m·ªõi)</option>
                        <option value="payment">üí≥ Payment Confirmation (X√°c nh·∫≠n thanh to√°n)</option>
                        <option value="booking">üìÖ Booking Confirmation (X√°c nh·∫≠n ƒë·∫∑t l·ªãch)</option>
                        <option value="reminder">‚è∞ Class Reminder (Nh·∫Øc nh·ªü l·ªõp h·ªçc)</option>
                        <option value="expiry">‚è≥ Membership Expiry (G√≥i t·∫≠p s·∫Øp h·∫øt h·∫°n)</option>
                        <option value="simple">üìù Simple Test (Email ƒë∆°n gi·∫£n)</option>
                    </select>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                    <h3 class="text-lg font-semibold text-yellow-800 mb-2">‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</h3>
                    <ul class="text-sm text-yellow-700 space-y-1">
                        <li>‚Ä¢ Email s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn ƒë·ªãa ch·ªâ b·∫°n nh·∫≠p</li>
                        <li>‚Ä¢ Ki·ªÉm tra c·∫£ inbox v√† spam folder</li>
                        <li>‚Ä¢ ƒê·∫£m b·∫£o email nh·∫≠p ch√≠nh x√°c</li>
                        <li>‚Ä¢ Test n√†y s·ª≠ d·ª•ng c·∫•u h√¨nh SMTP th·∫≠t</li>
                    </ul>
                </div>

                <div class="flex justify-center">
                    <button type="submit" 
                            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-200 flex items-center">
                        üöÄ G·ª≠i Email Test
                    </button>
                </div>
            </form>

            <div class="mt-8 bg-gray-50 rounded-lg p-4">
                <h3 class="text-lg font-semibold text-gray-800 mb-3">üìã Danh s√°ch template email c√≥ s·∫µn:</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-2">üìß Email c∆° b·∫£n:</h4>
                        <ul class="space-y-1 text-gray-600">
                            <li>‚Ä¢ SendEmailAsync() - Email ƒë∆°n gi·∫£n</li>
                            <li>‚Ä¢ SendBulkEmailAsync() - G·ª≠i h√†ng lo·∫°t</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold text-gray-700 mb-2">üé® Template c√≥ s·∫µn:</h4>
                        <ul class="space-y-1 text-gray-600">
                            <li>‚Ä¢ Welcome Email</li>
                            <li>‚Ä¢ Password Reset</li>
                            <li>‚Ä¢ Registration Confirmation</li>
                            <li>‚Ä¢ Payment Confirmation</li>
                            <li>‚Ä¢ Class Reminder</li>
                            <li>‚Ä¢ Membership Expiry</li>
                            <li>‚Ä¢ Booking Confirmation</li>
                            <li>‚Ä¢ Schedule Change</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>